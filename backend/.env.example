# =============================================================================
# AI-POWERED EXPENSE TRACKER - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env file to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
APP_NAME="AI-Powered Expense Tracker"
APP_VERSION="1.0.0"
ENVIRONMENT=development  # development, staging, production
DEBUG=true

# API Configuration
API_V1_PREFIX=/api/v1
HOST=0.0.0.0
PORT=8000

# -----------------------------------------------------------------------------
# SECURITY SETTINGS
# -----------------------------------------------------------------------------
# Generate a secure secret key: openssl rand -hex 32
SECRET_KEY=your-super-secret-key-change-this-in-production-minimum-32-characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# SUPABASE CONFIGURATION
# -----------------------------------------------------------------------------
# Get these from your Supabase project settings
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-public-key-here
SUPABASE_SERVICE_KEY=your-service-role-key-here
SUPABASE_JWT_SECRET=your-jwt-secret-from-supabase-here
SUPABASE_STORAGE_BUCKET=documents

# Direct PostgreSQL connection (optional, for advanced operations)
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.your-project.supabase.co:5432/postgres
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# -----------------------------------------------------------------------------
# AI / LLM CONFIGURATION
# -----------------------------------------------------------------------------
# OpenRouter API (for accessing Cohere and other models)
OPENROUTER_API_KEY=your-openrouter-api-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Cohere API (direct access, optional)
COHERE_API_KEY=your-cohere-api-key-here

# Model Configuration
DEFAULT_LLM_MODEL=cohere/command-r-plus
DEFAULT_EMBEDDING_MODEL=cohere/embed-english-v3.0
MAX_TOKENS=4096
TEMPERATURE=0.3
EXTRACTION_CONFIDENCE_THRESHOLD=0.7

# -----------------------------------------------------------------------------
# N8N WORKFLOW CONFIGURATION
# -----------------------------------------------------------------------------
# n8n webhook URLs and API keys
N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/process-document
N8N_API_KEY=your-n8n-api-key-here

# -----------------------------------------------------------------------------
# DOCUMENT PROCESSING SETTINGS
# -----------------------------------------------------------------------------
MAX_FILE_SIZE_MB=50
# Allowed MIME types (comma-separated)
ALLOWED_FILE_TYPES=application/pdf,image/jpeg,image/png,image/tiff,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/csv

# -----------------------------------------------------------------------------
# VECTOR SEARCH SETTINGS
# -----------------------------------------------------------------------------
VECTOR_DIMENSIONS=1024
VECTOR_SEARCH_LIMIT=20

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_PER_MINUTE=60

# -----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=console  # console or json

# -----------------------------------------------------------------------------
# CORS SETTINGS (Frontend URLs)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
#
# 1. SUPABASE SETUP:
#    - Create a new project at https://supabase.com
#    - Go to Project Settings > API
#    - Copy the Project URL to SUPABASE_URL
#    - Copy the anon/public key to SUPABASE_KEY
#    - Copy the service_role key to SUPABASE_SERVICE_KEY
#    - Go to Project Settings > API > JWT Settings
#    - Copy the JWT Secret to SUPABASE_JWT_SECRET
#
# 2. OPENROUTER SETUP:
#    - Sign up at https://openrouter.ai
#    - Create an API key
#    - Add credits to your account
#    - Copy your API key to OPENROUTER_API_KEY
#
# 3. COHERE SETUP (Optional):
#    - Sign up at https://cohere.com
#    - Create an API key
#    - Copy your API key to COHERE_API_KEY
#
# 4. N8N SETUP (Optional, for workflow automation):
#    - Deploy n8n instance (https://n8n.io)
#    - Create webhooks for document processing
#    - Copy webhook URL to N8N_WEBHOOK_URL
#
# 5. GENERATE SECRET KEY:
#    Run: openssl rand -hex 32
#    Or: python -c "import secrets; print(secrets.token_hex(32))"
#
# =============================================================================
